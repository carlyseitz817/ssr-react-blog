{"version":3,"file":"static/webpack/static/development/pages/blog.js.1e835872765cf89c7477.hot-update.js","sources":["webpack:///./pages/blog.js"],"sourcesContent":["import React from 'react';\nimport BaseLayout from '../components/layouts/BaseLayout';\nimport BasePage from '../components/BasePage';\n\nimport { Container, Row, Col } from 'reactstrap';\nimport { Link } from '../routes';\n\nimport { getPosts } from '../actions';\nimport { shortenText } from '../helpers/utils';\n\nimport Cookies from 'js-cookie';\n\nimport moment from 'moment';\nimport { normalize } from 'path';\n\n\nclass Posts extends React.Component {\n\n  static async getInitialProps({ req }) {\n    let posts = [];\n\n    try {\n      posts = await getPosts(req);\n    } catch (err) {\n      console.error(err);\n    }\n\n    return { posts };\n  }\n\n  async componentWillMount() {  \n    Cookies.set(\"AUTH0_STATE\", JSON.stringify(window.location.href));\n    // localStorage.set(\"AUTH0_STATE\", \"hfdsugfdukkufd\");\n    console.log(\"if this works then cookies and localstorage are being dumb\")\n  }\n\n  renderPosts = (posts) => (\n    posts.map((post, index) => (\n      <div key={index} className=\"blog-preview\">\n        <Link route={`/blog/${post.slug}`}>\n          <a>\n            <h2 className=\"blog-title\">\n              {post.title}\n            </h2>\n            <h3 className=\"blog-subtitle\">\n              {shortenText(post.subTitle)}\n            </h3>\n          </a>\n        </Link>\n        <p className=\"post-meta\">Posted by \n          <span> {post.author}</span>\n          {/* {moment(parseInt(post.createdAt, 10)).format('LL') */}\n        </p>\n      </div>\n    )\n    )\n  )\n\n  render() {\n    const { posts } = this.props;\n    console.log(posts);\n\n    return (\n      <BaseLayout {...this.props.auth}\n        headerType={'landing'}\n        className=\"blog-listing-page\"\n        title=\"SSR Next.js Blog\">\n        <div className=\"masthead\" style={{ \"backgroundImage\": \"url('/static/images/home-bg.jpg')\" }}>\n          {/* <div className=\"overlay\"></div> */}\n          <Container>\n            <div className=\"row\">\n              <div className=\"col-lg-8 col-md-10 mx-auto\">\n                <div className=\"site-heading\">\n                  <h1>Fresh Blogs</h1>\n                </div>\n              </div>\n            </div>\n          </Container>\n        </div>\n        <BasePage className=\"blog-body\">\n          <Row>\n            <Col md=\"10\" lg=\"8\" className=\"mx-auto\">\n              {this.renderPosts(posts)}\n              <div className=\"clearfix\">\n                <a className=\"mybutton btn btn-primary float-right\" href=\"#\">Older Posts &rarr;</a>\n              </div>\n            </Col>\n          </Row>\n\n          <footer>\n            <Container>\n              <Row>\n                <div className=\"col-lg-8 col-md-10 mx-auto\">\n                  <ul className=\"list-inline text-center\">\n                    <li className=\"list-inline-item\">\n                      <a target=\"_blank\" href=\"https://github.com/carlyseitz817/ssr-react-blog\">\n                        <span className=\"fa-stack fa-lg\">\n                          <i className=\"fas fa-circle fa-stack-2x\"></i>\n                          <i className=\"fab fa-github fa-stack-1x fa-inverse\"></i>\n                        </span>\n                      </a>\n                    </li>\n                  </ul>\n                  <p className=\"copyright text-muted\">Copyright &copy; Carly Seitz and Danielle Licea 2019</p>\n                </div>\n              </Row>\n            </Container>\n          </footer>\n        </BasePage>\n        <style jsx>\n          {`\n            @import url(\"https://use.fontawesome.com/releases/v5.5.0/css/all.css\");\n          `}\n        </style>\n      </BaseLayout>\n    )\n  }\n}\n\nexport default Posts;\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AAoBA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAGA;AAAA;AAKA;AAAA;AAZA;AADA;AACA;;;;;;;;;;;;;;AANA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAwBA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AAHA;AAIA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAKA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AAxCA;AAAA;AAqDA;;;;;;;;;;;;AAlGA;AACA;;;AAGA;AACA;;AADA;;;;;;;AAEA;AACA;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAZA;AACA;AAsGA;;;;A","sourceRoot":""}